{"version":3,"sources":["src/index.js"],"names":["divMain","document","querySelector","divRender","markup","divButton","createElement","url","getData","fetch","then","data","json","console","log","renderProducts","products","forEach","item","image","name","description","oldPrice","price","installments","count","value","toFixed","toString","replace","id","innerHTML","renderButtonMore","appendChild","btnListMore","addEventListener","nextPage","form","inputName","inputEmail","controlName","controlEmail","checkForm","e","preventDefault","checkNameInput","checkEmailInput","classList","add","remove","checkEmail","email","re","test","String","toLowerCase"],"mappings":"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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["// import './getDataAndRender';\n// import './validateForm';\n\nconst divMain = document.querySelector('.main');\nconst divRender = document.querySelector('#container-products');\nlet markup = '';\nlet divButton = document.createElement('div');\nlet url = 'https://frontend-intern-challenge-api.iurykrieger.now.sh/products?page=1';\n\nfunction getData() {\n  fetch(url).then(data => data.json()).then(data => {\n    console.log(data);\n    renderProducts(data);\n  });\n}\n\nfunction renderProducts(data) {\n  data.products.forEach(item => {\n    markup += `\n    <div class=\"product\">\n      <div class=\"product__div-img\">\n        <img src=\"http:${item.image}\" alt=\"${item.name}\" class=\"product__img\">\n      </div>\n      <h5 class=\"product__name\">${item.name}</h5>\n      <p class=\"product__description\">\n        ${item.description}\n      </p>\n      <p class=\"product__old-price\">De: R$${item.oldPrice},00</p>\n      <h4 class=\"product__new-price\">Por: R$${item.price},00</h4>\n      <p class=\"product__payment\">ou ${item.installments.count}x de R$${item.installments.value.toFixed(2).toString().replace('.', ',')}</p>\n      <button id=\"${item.id}\" class=\"product__btn-purchase\">Comprar</button>\n    </div>\n    `;\n  });\n  divRender.innerHTML = markup;\n  renderButtonMore(data);\n};\n\nfunction renderButtonMore(data) {\n  divButton.innerHTML = `\n    <button id=\"btn__list-more\" class=\"main__list-more\">Ainda mais produtos aqui!</button>\n  `;\n  divMain.appendChild(divButton);\n\n  const btnListMore = document.querySelector('#btn__list-more');\n  btnListMore.addEventListener('click', () => {\n    fetch(`https:${data.nextPage}`).then(data => data.json()).then(data => {\n      console.log(data)\n      renderProducts(data)\n    });\n  });\n}\n\ngetData();\n\nconst form = document.querySelector('[data-js=\"form\"]');\nconst inputName = document.querySelector('[data-js=\"input-name\"]');\nconst inputEmail = document.querySelector('[data-js=\"input-email\"]');\nconst controlName = document.querySelector('.controlName');\nconst controlEmail = document.querySelector('.controlEmail');\n\nform.addEventListener('submit', checkForm, true);\n\nfunction checkForm(e) {\n  e.preventDefault();\n  checkNameInput();\n  checkEmailInput();  \n}\n\nfunction checkNameInput() {\n  if (inputName.value == '') {\n    controlName.innerHTML = 'Campo Nome precisa ser preenchido';\n    inputName.classList.add('form__input--error');\n  } else {\n    controlName.innerHTML = 'Thanks!';\n    inputName.classList.remove('form__input--error');\n    inputName.classList.add('form__input--success');\n  }\n}\n\nfunction checkEmailInput() {\n  if(inputEmail.value == '') {\n    controlEmail.innerHTML = 'Campo Email precisa ser preenchido';\n    inputEmail.classList.add('form__input--error');\n  } else if(!checkEmail(inputEmail.value)) {\n    controlEmail.innerHTML = 'O campo de email deve conter um email válido!';\n    inputEmail.classList.add('form__input--error');\n  } else {\n    controlEmail.innerHTML = 'Seu amigo receberá as novidades em breve!';\n    inputEmail.classList.remove('form__input--error');\n    inputEmail.classList.add('form__input--success');\n  }\n}\n\nfunction checkEmail(email) {\n  var re = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n  return re.test(String(email).toLowerCase());\n}"]}